(this["webpackJsonpincub-jsreact-sandbox"]=this["webpackJsonpincub-jsreact-sandbox"]||[]).push([[0],{102:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var r=function(e){return e?void 0:"Field is required"},c=function(e){return function(t){return t&&t.length>e?"Max length is ".concat(e," symbols"):void 0}}},115:function(e,t,n){e.exports={paginator:"Paginator_paginator__1UX_g",otherPage:"Paginator_otherPage__2E7Ji",selectedPage:"Paginator_selectedPage__3kUkN"}},116:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return j})),n.d(t,"d",(function(){return f}));var r=n(5),c=n(93),a=n(1),i=(n(0),n(132)),s=n(64),o=n.n(s),u=function(e){e.input;var t=e.meta,n=(e.child,Object(c.a)(e,["input","meta","child"])),r=t.touched&&t.error;return Object(a.jsxs)("div",{className:o.a.formControl+" "+(r?o.a.error:""),children:[Object(a.jsx)("div",{children:n.children}),r&&Object(a.jsx)("span",{children:t.error})]})},l=function(e){var t=e.input,n=(e.meta,e.child,Object(c.a)(e,["input","meta","child"]));return Object(a.jsx)(u,Object(r.a)(Object(r.a)({},e),{},{children:Object(a.jsx)("textarea",Object(r.a)(Object(r.a)({},t),n))}))},d=function(e){var t=e.input,n=(e.meta,e.child,Object(c.a)(e,["input","meta","child"]));return Object(a.jsx)(u,Object(r.a)(Object(r.a)({},e),{},{children:Object(a.jsx)("input",Object(r.a)(Object(r.a)({},t),n))}))},j=function(e){return function(t){var n=t.input,i=t.meta,s=Object(c.a)(t,["input","meta"]),u=i.touched&&i.error;return Object(a.jsxs)("div",{className:"".concat(o.a.formControl," ").concat(u?o.a.error:""),children:[Object(a.jsx)(e,Object(r.a)(Object(r.a)({},n),s)),Object(a.jsx)("div",{children:u&&Object(a.jsx)("span",{children:i.error})})]})}},f=function(e,t,n,c){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(a.jsxs)("div",{children:[Object(a.jsx)(i.a,Object(r.a)({placeholder:e,name:t,validate:n,component:c},s))," ",o]})}},142:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"g",(function(){return x})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return S}));var r=n(11),c=n.n(r),a=n(20),i=n(52),s=n(5),o=n(28),u=n(187),l="ADD-POST",d="SET-USER-PROFILE",j="SET-STATUS",f="DELETE-POST",b="SAVE-PHOTO-SUCCESS",h={postData:[{id:1,postmsg:"Its my first post",likesCount:10},{id:2,postmsg:"Its my second post",likesCount:15},{id:3,postmsg:"Its my third post",likesCount:7}],profile:null,status:""},O=function(e){return{type:l,newPostText:e}},p=function(e){return{type:j,status:e}},m=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.getProfile(e);case 2:r=t.sent,n((c=r.data,{type:d,profile:c}));case 4:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.getStatus(e);case 2:r=t.sent,n(p(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(p(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.b.savePhoto(e);case 2:0===(r=t.sent).data.resultCode&&n((c=r.data.data.photos,{type:b,photos:c}));case 4:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){var a,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().auth.userId,t.next=3,o.b.saveProfile(e);case 3:if(0!==(i=t.sent).data.resultCode){t.next=8;break}n(m(a)),t.next=10;break;case 8:return n(Object(u.stopSubmit)("edit-profile",{_error:i.data.messages[0]})),t.abrupt("return",Promise.reject(i.data.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:var n={id:5,postmsg:t.newPostText,likesCount:0};return Object(s.a)(Object(s.a)({},e),{},{postData:[].concat(Object(i.a)(e.postData),[n])});case d:return Object(s.a)(Object(s.a)({},e),{},{profile:t.profile});case j:return Object(s.a)(Object(s.a)({},e),{},{status:t.status});case f:return Object(s.a)(Object(s.a)({},e),{},{postData:e.postData.filter((function(e){return e.id!==t.postId}))});case b:return Object(s.a)(Object(s.a)({},e),{},{profile:Object(s.a)(Object(s.a)({},e.profile),{},{photos:t.photos})});default:return e}}},174:function(e,t,n){"use strict";t.a=n.p+"static/media/usermockpng.3b883e77.png"},175:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(52),c=n(5),a="SEND-MESSAGE",i={dialogData:[{id:1,name:"David"},{id:2,name:"Mitch"},{id:3,name:"Sodah"},{id:4,name:"Reckful"},{id:5,name:"Cdew"},{id:6,name:"Eslint"}],messageData:[{id:1,message:"goodbye"},{id:2,message:"well, maybe yes"},{id:3,message:"you can ask me tomorrow"},{id:4,message:"im so hungry"},{id:5,message:"what about telling me whats going on"},{id:6,message:"dobroho ranku ot ukrainianku"}]},s=function(e){return{type:a,newMessageBody:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a:var n=t.newMessageBody;return Object(c.a)(Object(c.a)({},e),{},{messageData:[].concat(Object(r.a)(e.messageData),[{id:6,message:n}])});default:return e}}},180:function(e,t,n){"use strict";n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return E})),n.d(t,"b",(function(){return w}));var r=n(11),c=n.n(r),a=n(20),i=n(52),s=n(5),o=[],u=null,l=function(){setTimeout(j,3e3)},d=function(e){var t=JSON.parse(e.data);o.forEach((function(e){return e(t)}))};function j(){var e,t;null===(e=u)||void 0===e||e.removeEventListener("close",l),null===(t=u)||void 0===t||t.close(),(u=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx")).addEventListener("close",l),u.addEventListener("message",d)}var f=function(){j()},b=function(){var e,t,n;o=[],null===(e=u)||void 0===e||e.removeEventListener("close",l),null===(t=u)||void 0===t||t.removeEventListener("message",d),null===(n=u)||void 0===n||n.close()},h=function(e){return o.push(e),function(){o=o.filter((function(t){return t!==e}))}},O=function(e){o=o.filter((function(t){return t!==e}))},p=function(e){var t;null===(t=u)||void 0===t||t.send(e)},m={messages:[]},g=function(e){return{type:"sn/chat/MESSAGES_RECEIVED",payload:{messages:e}}},x=null,v=function(e){return null===x&&(x=function(t){e(g(t))}),x},S=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(),h(v(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},E=function(){return function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(v(t)),b();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"sn/chat/MESSAGES_RECEIVED":return Object(s.a)(Object(s.a)({},e),{},{messages:[].concat(Object(i.a)(e.messages),Object(i.a)(t.payload.messages))});default:return e}}},184:function(e,t,n){e.exports={userPhoto:"Users_userPhoto__2ABsl"}},242:function(e,t,n){},28:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o}));var r=n(183),c=n.n(r).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"5675685f-9cd0-43c9-b668-1f134f354acb"}}),a={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return c.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null===r?"":"&friend=".concat(r)),{withCredentials:!0}).then((function(e){return e.data}))},follow:function(e){return c.post("follow/".concat(e))},unfollow:function(e){return c.delete("follow/".concat(e))},getProfile:function(e){return i.getProfile(e)}},i={getProfile:function(e){return c.get("profile/"+e)},getStatus:function(e){return c.get("profile/status/"+e)},updateStatus:function(e){return c.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),c.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return c.put("profile",e)}},s={me:function(){return c.get("auth/me")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return c.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},logout:function(){return c.delete("auth/login")}},o={getCaptchaUrl:function(){return c.get("security/get-captcha-url")}}},359:function(e,t,n){},360:function(e,t,n){},361:function(e,t,n){},366:function(e,t,n){},367:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),a=n(25),i=n.n(a),s=n(143),o=n(144),u=n(179),l=n(177),d=n(375),j=n(376),f=n(373),b=n(369),h=(n(238),n(14)),O=n(40),p=n(16),m=n(15),g=(n(242),n(65)),x=n(132),v=n(176),S=n(102),E=n(116),w=n(11),y=n.n(w),C=n(20),P=n(5),_=n(28),U=n(78),k="social-network/auth/SET-USER-DATA",I="social-network/auth/GET_CAPTCHA_URL_SUCCESS",T={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},N=function(e,t,n,r){return{type:k,payload:{userId:e,email:t,login:n,isAuth:r}}},F=function(e){return{type:I,payload:{captchaUrl:e}}},R=function(){return function(){var e=Object(C.a)(y.a.mark((function e(t){var n,r,c,a,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.me();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,c=r.id,a=r.email,i=r.login,t(N(c,a,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},L=function(){return function(){var e=Object(C.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.c.getCaptchaUrl();case 2:n=e.sent,r=n.data.url,t(F(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:case I:return Object(P.a)(Object(P.a)({},e),t.payload);default:return e}},D=n(64),G=n.n(D),M=Object(E.a)("input"),z=Object(v.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,c=e.captchaUrl;return Object(r.jsxs)("form",{onSubmit:t,children:[Object(r.jsx)("div",{children:Object(r.jsx)(x.a,{placeholder:"login",name:"email",component:M,validate:[S.b]})}),Object(r.jsx)("div",{children:Object(r.jsx)(x.a,{placeholder:"password",name:"password",component:M,type:"password",validate:[S.b]})}),Object(r.jsxs)("div",{children:[Object(r.jsx)(x.a,{type:"checkbox",name:"rememberMe",component:M})," remember me"]}),c&&Object(r.jsx)("img",{src:c}),c&&Object(E.d)("Symbols from image","captcha",[S.b],M,{}),Object(r.jsxs)("div",{children:[n&&Object(r.jsx)("div",{className:G.a.formSummaryError,children:n}),Object(r.jsx)("button",{children:"Log In"})]})]})})),H=function(){var e=Object(h.c)(),t=Object(h.d)((function(e){return e.auth.captchaUrl})),n=Object(h.d)((function(e){return e.auth.isAuth}));return Object(r.jsx)(r.Fragment,{children:n?Object(r.jsx)(p.a,{to:"/profile"}):Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"LOGIN"}),Object(r.jsx)("span",{children:"You can use common test account credentials:"}),Object(r.jsx)("p",{children:"Email: free@samuraijs.com"}),Object(r.jsx)("p",{children:"Password: free"}),Object(r.jsx)(z,{onSubmit:function(t){var n,r,c,a;e((n=t.email,r=t.password,c=t.rememberMe,a=t.captcha,function(){var e=Object(C.a)(y.a.mark((function e(t){var i,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.login(n,r,c,a);case 2:0===(i=e.sent).data.resultCode?t(R()):(10===i.data.resultCode&&t(L()),s=i.data.messages.length>0?i.data.messages[0]:"Some error occured",t(Object(U.a)("login",{_error:s})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},captchaUrl:t})]})})},W=(n(359),function(){return Object(r.jsx)("div",{children:"Music"})}),V=(n(360),function(){return Object(r.jsx)("div",{children:"News"})}),B=(n(361),function(){return Object(r.jsx)("div",{children:"Settings"})}),J=n(141),X=n(115),Y=n.n(X),q=function(e){for(var t=e.currentPage,n=e.totalItemsCount,a=e.pageSize,i=e.onPageChanged,s=e.portionSize,o=void 0===s?20:s,u=Math.ceil(n/a),l=[],d=1;d<=u;d++)l.push(d);var j=Math.ceil(u/o),f=Object(c.useState)(1),b=Object(J.a)(f,2),h=b[0],O=b[1],p=(h-1)*o+1,m=h*o;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:Y.a.paginator,children:[h>1&&Object(r.jsx)("button",{onClick:function(){O(h-1)},children:"PREV"}),Object(r.jsx)("div",{children:l.filter((function(e){return e>=p&&e<=m})).map((function(e){return Object(r.jsx)("span",{className:t===e?Y.a.selectedPage:Y.a.otherPage,onClick:function(){return i(e)},children:e},e)}))}),j>=h&&Object(r.jsx)("button",{onClick:function(){O(h+1)},children:"NEXT"})]})})},K=n(184),Z=n.n(K),Q=n(174),$=function(e){var t=e.user,n=e.isFollowingInProgress,c=e.unfollow,a=e.follow;return Object(r.jsxs)("div",{children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("div",{children:Object(r.jsx)(O.c,{to:"/profile/"+t.id,children:Object(r.jsx)("img",{src:null!==t.photos.small?t.photos.small:Q.a,alt:"userpic",className:Z.a.userPhoto})})}),Object(r.jsx)("div",{children:t.followed?Object(r.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){c(t.id)},children:"Unfollow"}):Object(r.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)},children:"Follow"})})]}),Object(r.jsxs)("span",{children:[Object(r.jsxs)("span",{children:[Object(r.jsx)("div",{children:t.name}),Object(r.jsx)("div",{children:t.status})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("div",{children:"tut budet strana"}),Object(r.jsx)("div",{children:"tut budet gorod"})]})]})]})},ee=n(92),te=function(e){return e.usersPage.users},ne=function(e){return e.usersPage.pageSize},re=function(e){return e.usersPage.totalUsersCount},ce=function(e){return e.usersPage.currentPage},ae=function(e){return e.usersPage.isFetching},ie=function(e){return e.usersPage.isFollowingInProgress},se=function(e){return e.usersPage.filter},oe=function(e){return{}},ue=Object(c.memo)((function(e){var t=e.onFilterChanged,n=Object(h.d)(se);return Object(r.jsx)("div",{children:Object(r.jsx)(ee.c,{enableReinitialize:!0,initialValues:{term:n.term,friend:String(n.friend)},validate:oe,onSubmit:function(e,n){var r=n.setSubmitting,c={term:e.term,friend:"null"===e.friend?null:"true"===e.friend};t(c),r(!1)},children:function(e){var t=e.isSubmitting;return Object(r.jsxs)(ee.b,{children:[Object(r.jsx)(ee.a,{type:"text",name:"term"}),Object(r.jsxs)(ee.a,{as:"select",name:"friend",children:[Object(r.jsx)("option",{value:"null",children:"All"}),Object(r.jsx)("option",{value:"true",children:"Only Followed"}),Object(r.jsx)("option",{value:"false",children:"Only Unfollowed"})]}),Object(r.jsx)("button",{type:"submit",disabled:t,children:"Find"})]})}})})})),le=n(52),de=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(P.a)(Object(P.a)({},e),r):e}))},je={users:[],pageSize:10,totalUsersCount:50,currentPage:1,isFetching:!1,isFollowingInProgress:[],filter:{term:"",friend:null}},fe=function(e){return{type:"SN/USERS/FOLLOW",userId:e}},be=function(e){return{type:"SN/USERS/UNFOLLOW",userId:e}},he=function(e){return{type:"SN/USERS/SET_USERS",users:e}},Oe=function(e){return{type:"SN/USERS/SET_CURRENT_PAGE",currentPage:e}},pe=function(e){return{type:"SN/USERS/SET_USERS_TOTAL_COUNT",count:e}},me=function(e){return{type:"SN/USERS/TOGGLE_IS_FETCHING",isFetching:e}},ge=function(e,t){return{type:"SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},xe=function(e){return{type:"SN/USERS/SET_FILTER",payload:e}},ve=function(e,t,n){return function(){var r=Object(C.a)(y.a.mark((function r(c){var a;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(me(!0)),c(Oe(e)),c(xe(n)),r.next=5,_.d.getUsers(e,t,n.term,n.friend);case 5:a=r.sent,c(me(!1)),c(he(a.items)),c(pe(a.totalCount));case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/USERS/FOLLOW":return Object(P.a)(Object(P.a)({},e),{},{users:de(e.users,t.userId,"id",{followed:!0})});case"SN/USERS/UNFOLLOW":return Object(P.a)(Object(P.a)({},e),{},{users:de(e.users,t.userId,"id",{followed:!1})});case"SN/USERS/SET_USERS":return Object(P.a)(Object(P.a)({},e),{},{users:t.users});case"SN/USERS/SET_CURRENT_PAGE":return Object(P.a)(Object(P.a)({},e),{},{currentPage:t.currentPage});case"SN/USERS/SET_USERS_TOTAL_COUNT":return Object(P.a)(Object(P.a)({},e),{},{totalUsersCount:t.count});case"SN/USERS/TOGGLE_IS_FETCHING":return Object(P.a)(Object(P.a)({},e),{},{isFetching:t.isFetching});case"SN/USERS/SET_FILTER":return Object(P.a)(Object(P.a)({},e),{},{filter:t.payload});case"SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS":return Object(P.a)(Object(P.a)({},e),{},{isFollowingInProgress:t.isFetching?[].concat(Object(le.a)(e.isFollowingInProgress),[t.userId]):e.isFollowingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},Ee=n(138),we=function(e){var t=Object(h.d)(re),n=Object(h.d)(ce),a=Object(h.d)(ne),i=Object(h.d)(se),s=Object(h.d)(te),o=Object(h.d)(ie),u=Object(h.c)(),l=Object(p.g)();Object(c.useEffect)((function(){var e=Ee.parse(l.location.search.substr(1)),t=n,r=i;e.page&&(t=Number(e.page)),e.term&&(r=Object(P.a)(Object(P.a)({},r),{},{term:e.term})),e.friend&&(r=Object(P.a)(Object(P.a)({},r),{},{friend:"null"===e.friend?null:"true"===e.friend})),u(ve(t,a,r))}),[]),Object(c.useEffect)((function(){var e={};i.term&&(e.term=i.term),null!==i.friend&&(e.friend=i.friend),1!==n&&(e.page=String(n)),l.push({pathname:"/users",search:Ee.stringify(e)})}),[i,n]);var d=function(e){u(function(e){return function(){var t=Object(C.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ge(!0,e)),t.next=3,_.d.follow(e);case 3:0===t.sent.data.resultCode&&n(fe(e)),n(ge(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},j=function(e){u(function(e){return function(){var t=Object(C.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ge(!0,e)),t.next=3,_.d.unfollow(e);case 3:0===t.sent.data.resultCode&&n(be(e)),n(ge(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:Object(r.jsx)(ue,{onFilterChanged:function(e){u(ve(1,a,e))}})}),Object(r.jsx)(q,{currentPage:n,onPageChanged:function(e){u(ve(e,a,i))},totalItemsCount:t,pageSize:a}),s.map((function(e){return Object(r.jsx)($,{user:e,isFollowingInProgress:o,follow:d,unfollow:j},e.id)}))]})},ye=function(e){var t=e.pageTitle,n=Object(h.d)(ae);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:t}),n?Object(r.jsx)(g.a,{}):null,Object(r.jsx)(we,{})]})},Ce="INITIALIZED_SUCCESS",Pe={initialized:!1},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return Object(P.a)(Object(P.a)({},e),{},{initialized:!0});default:return e}},Ue=n(142),ke=n(175),Ie={},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie;return e},Ne=n(188),Fe=n(178),Re=n(180),Le=Object(m.c)({profilePage:Ue.b,dialogsPage:ke.a,sidebar:Te,usersPage:Se,auth:A,form:Fe.a,app:_e,chat:Re.a}),Ae=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d,De=Object(m.e)(Le,Ae(Object(m.a)(Ne.a)));window.store=De;var Ge=De,Me=n(372),ze=n(374),He=n(371),We=n(370),Ve=(n(366),function(e){var t=Object(h.c)(),n=Object(h.d)((function(e){return e.auth.isAuth})),c=Object(h.d)((function(e){return e.auth.login})),a=b.a.Header;return Object(r.jsx)(a,{className:"header",children:Object(r.jsxs)(Me.a,{children:[Object(r.jsx)(ze.a,{span:18}),n?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ze.a,{span:1,children:Object(r.jsx)(He.a,{alt:c||"",style:{backgroundColor:"#87d068"},icon:Object(r.jsx)(d.a,{})})}),Object(r.jsx)(ze.a,{span:5,children:Object(r.jsx)(We.a,{onClick:function(){t(function(){var e=Object(C.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.logout();case 2:0===e.sent.data.resultCode&&t(N(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Log Out"})})]}):Object(r.jsx)(ze.a,{span:6,children:Object(r.jsx)(We.a,{children:Object(r.jsx)(O.b,{to:"/login",children:"Login"})})})]})})}),Be=f.a.SubMenu,Je=b.a.Content,Xe=b.a.Footer,Ye=b.a.Sider,qe=Object(c.lazy)((function(){return n.e(4).then(n.bind(null,387))})),Ke=Object(c.lazy)((function(){return n.e(3).then(n.bind(null,386))})),Ze=Object(c.lazy)((function(){return n.e(5).then(n.bind(null,388))})),Qe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(e=t.call.apply(t,[this].concat(c))).catchAllUnhandledErrors=function(e){console.log("REST query error")},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?Object(r.jsxs)(b.a,{style:{minHeight:"100vh"},children:[Object(r.jsx)(Ve,{}),Object(r.jsx)(Je,{style:{padding:"50px 250px"},children:Object(r.jsxs)(b.a,{className:"site-layout-background",style:{padding:"24px 0"},children:[Object(r.jsx)(Ye,{className:"site-layout-background",width:250,children:Object(r.jsxs)(f.a,{mode:"inline",defaultOpenKeys:["sub1"],style:{height:"100%"},children:[Object(r.jsxs)(Be,{icon:Object(r.jsx)(d.a,{}),title:"My Profile",children:[Object(r.jsx)(f.a.Item,{children:Object(r.jsx)(O.b,{to:"/profile",children:"Profile"})},"1"),Object(r.jsx)(f.a.Item,{children:Object(r.jsx)(O.b,{to:"/chat",children:"Chat"})},"2"),Object(r.jsxs)(f.a.Item,{children:[" ",Object(r.jsx)(O.b,{to:"/dialogs",children:"Messages"})]},"3")]},"sub1"),Object(r.jsx)(Be,{icon:Object(r.jsx)(j.a,{}),title:"Users",children:Object(r.jsx)(f.a.Item,{children:Object(r.jsx)(O.b,{to:"/users",children:"Users"})},"5")},"sub2")]})}),Object(r.jsx)(Je,{style:{padding:"0 24px",minHeight:280},children:Object(r.jsxs)(p.d,{children:[Object(r.jsx)(p.b,{exact:!0,path:"/",render:function(){return Object(r.jsx)(p.a,{to:"/profile"})}}),Object(r.jsx)(p.b,{path:"/dialogs",children:Object(r.jsx)(c.Suspense,{fallback:Object(r.jsx)(g.a,{}),children:Object(r.jsx)(qe,{})})}),Object(r.jsx)(p.b,{path:"/profile/:userId?",children:Object(r.jsx)(c.Suspense,{fallback:Object(r.jsx)(g.a,{}),children:Object(r.jsx)(Ke,{})})}),Object(r.jsx)(p.b,{path:"/users",children:Object(r.jsx)(ye,{})}),Object(r.jsx)(p.b,{path:"/login",children:Object(r.jsx)(H,{})}),Object(r.jsx)(p.b,{path:"/chat",children:Object(r.jsx)(c.Suspense,{fallback:Object(r.jsx)(g.a,{}),children:Object(r.jsx)(Ze,{})})}),Object(r.jsx)(p.b,{path:"/news",component:V}),Object(r.jsx)(p.b,{path:"/music",component:W}),Object(r.jsx)(p.b,{path:"/settings",component:B}),Object(r.jsx)(p.b,{path:"*",render:function(){return Object(r.jsx)("div",{children:"404 NOT FOUND"})}})]})})]})}),Object(r.jsx)(Xe,{style:{textAlign:"center"},children:"Social Network \xa92021 Created by David Pehshvelashvili"})]}):Object(r.jsx)(g.a,{})}}]),n}(c.Component),$e=Object(m.d)(p.h,Object(h.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(R());Promise.all([t]).then((function(){e({type:Ce})}))}}}))(Qe),et=function(e){return Object(r.jsx)(O.a,{children:Object(r.jsx)(h.a,{store:Ge,children:Object(r.jsx)($e,{})})})},tt=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,385)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(r.jsx)(et,{}),document.getElementById("root")),tt()},64:function(e,t,n){e.exports={formControl:"FormsControls_formControl__1bVOi",error:"FormsControls_error__2EeYv",formSummaryError:"FormsControls_formSummaryError__3C8Gs"}},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),c=(n(0),n.p+"static/media/snpreloader.1056300a.svg"),a=function(){return Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:c,alt:"Loading..."})})}}},[[367,1,2]]]);
//# sourceMappingURL=main.118bfd83.chunk.js.map